<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="com.ham.main.reply">
  
  	<!-- 댓글 조회 -->
<select id="replyList" parameterType="int" resultType="com.ham.main.reply.ReplyDTO">
    select
        replyNum, reviewNum, id, replyContents, replyDate
    from reply
        where reviewNum = #{reviewNum}        
</select>

<!-- 댓글 작성 -->
<insert id="replyWrite" parameterType="com.ham.main.reply.ReplyDTO">
    insert into reply(replyNum,reviewNum, id, replyContents, replyDate)
        value(#{replyNum},#{reviewNum}, #{id}, #{replyContents}, #{replyDate})
</insert>
    
<!-- 댓글 수정 -->
<update id="replyModify" parameterType="com.ham.main.reply.ReplyDTO">
    update reply set
        id = #{id},
        replyContent = #{replyContent}
    where replyNum = #{replyNum}
        and reviewNum = #{reviewNum}    
</update>

<!-- 댓글 삭제 -->
<delete id="replyDelete" parameterType="com.ham.main.reply.ReplyDTO">
    delete from reply
    where replyNum = #{replyNum}
        and reviewNum = ${reviewNum}    
</delete>

<!-- 단일 댓글 조회 -->
<select id="replySelect" parameterType="com.ham.main.reply.ReplyDTO" resultType="com.ham.main.reply.ReplyDTO">
    select
        replyNum, reviewNum, id, replyContent, replyDate
    from tbl_reply
        where replyNum = #{replyNum}
        and replyNum = #{replyNum}                    
</select>
  </mapper>